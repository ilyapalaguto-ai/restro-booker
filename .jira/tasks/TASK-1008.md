# TASK: Middleware глобальной обработки ошибок
Key: TASK-1008  
Story: USER-STORY-1010  
JIRA: https://ilyapalaguto.atlassian.net/browse/TASK-1008  
Repo: ./tasks/TASK-1008.md

## Изменения
- Создать `server/errorHandler.ts`
- Оборачивать маршруты в try/catch минимально, остальное бросать
- Формат: { message, code?, errors? }
- Логирование stack (debug)

## Acceptance
- Непойманное исключение → 500 { message: "Internal server error" }
- ZodError → 400 с errors[]

## Files
- server/errorHandler.ts
- server/index.ts (подключение)
