# TASK: Реализовать refresh токены
Key: TASK-1009  
Story: USER-STORY-1011  
JIRA: https://ilyapalaguto.atlassian.net/browse/TASK-1009  
Repo: ./tasks/TASK-1009.md

## Изменения
- Таблица / коллекция refreshTokens (userId, token, expiresAt, revoked?)
- POST /api/auth/login: помимо access выдать httpOnly cookie refresh
- POST /api/auth/refresh: проверяет, ротация (старый помечается использованным)
- POST /api/auth/logout: удаляет refresh

## Security
- httpOnly, secure (если NODE_ENV=production)
- Срок жизни ~7 дней

## Acceptance
- Просроченный refresh → 401
- Повторное использование старого → 401

## Files
- server/routes.ts
- server/storage.ts
